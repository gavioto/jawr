<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Jawr - Jawr maven plugin</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dt>About</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../servlets/ProjectHome">Home</a>
        </li>
              
    <li class="none">
              <a href="../introduction.html">Introduction</a>
        </li>
              
    <li class="none">
              <a href="../features.html">Features</a>
        </li>
              
    <li class="none">
              <a href="../changes.html">Change history</a>
        </li>
              
    <li class="none">
              <a href="../team.html">The team</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Documentation</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../docs/servlet.html">The Jawr servlet</a>
        </li>
              
    <li class="none">
              <a href="../docs/descriptor_syntax.html">Descriptor syntax</a>
        </li>
              
    <li class="none">
              <a href="../docs/custom_bundles.html">Bundle definition</a>
        </li>
              
    <li class="none">
              <a href="../docs/source_ordering.html">Source order in bundles</a>
        </li>
              
    <li class="none">
              <a href="../docs/postprocessors.html">Postprocessors</a>
        </li>
              
    <li class="none">
              <a href="../docs/generators.html">Generators</a>
        </li>
              
    <li class="none">
              <a href="../docs/license_files.html">Licenses in resources</a>
        </li>
              
    <li class="none">
              <a href="../docs/taglibs.html">JSP Tag library</a>
        </li>
              
    <li class="none">
              <a href="../docs/plain_html.html">Use in HTML pages</a>
        </li>
              
    <li class="none">
              <a href="../docs/modes.html">Debug and production modes</a>
        </li>
              
    <li class="none">
              <a href="../docs/messages_gen.html">i18n message generator</a>
        </li>
              
    <li class="none">
              <a href="../docs/jmx_support_gen.html">JMX Support</a>
        </li>
              
    <li class="none">
              <a href="../docs/bundle_preprocessing_gen.html">Bundle preprocessing</a>
        </li>
              
    <li class="none">
              <a href="../docs/jawr_maven_plugin_gen.html">Jawr Maven plugin</a>
        </li>
              
    <li class="none">
              <a href="../docs/jawr_ant_task_gen.html">Jawr Ant task</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Integration</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../integration/augmenter.html">Add Jawr to your framework</a>
        </li>
              
    <li class="none">
              <a href="../integration/spring.html">Spring MVC</a>
        </li>
              
    <li class="none">
              <a href="../integration/facelets.html">Facelets Tag library</a>
        </li>
              
    <li class="none">
              <a href="../integration/grails.html">Grails plugin</a>
        </li>
              
    <li class="none">
              <a href="../integration/dwr.html">DWR</a>
        </li>
              
    <li class="none">
              <a href="../integration/validator.html">Commons Validator - Struts</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Tutorials</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../tutorials/quickstart.html">Quick start</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/faq_howto.html">FAQ-Howto</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/libraries.html">Using popular libraries</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>API and sources</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../nonav/apidocs/index.html">JavaDocs</a>
        </li>
              
    <li class="none">
              <a href="../nonav/xref/index.html">Source XREF</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project tools</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../servlets/ProjectHome">Project home</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectMemberList">Membership</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectNewsList">Announcements</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectForumView">Discussion forums</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectDocumentList">Documents & files</a>
        </li>
              
    <li class="none">
              <a href="../source/browse/jawr/">Subversion</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectIssues">Issue tracker</a>
        </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Jawr maven plugin</h2>
<p>The goal of the Jawr maven plugin is to simplify the use of the bundle preprocessing in the maven build life cycle. If you have not read the documentation of the bundle preprocessing, please take a look at it before continuing.</p>
<div class="section"><h3>Prerequisites</h3>
<p>The Jawr maven plugin requires at least maven 2.0.1 </p>
</div>
<div class="section"><h3>Usage</h3>
<p>The Jawr maven plugin use the following properties: </p>
<ul><li><b>rootPath</b> The path to the root of the web application. Default value: $<a name="project.build.directory">project.build.directory</a>/$<a name="project.build.finalName">project.build.finalName</a></li>
<li><b>tempDirPath</b> The path to the temporary directory for JAWR. Default value: $<a name="project.build.directory">project.build.directory</a>/jawr/temp</li>
<li><b>destDirPath</b> The path to the destination directory. Default value: $<a name="project.build.directory">project.build.directory</a>/jawr/bundles</li>
<li><b>servletsToInitialize</b> The comma separated list of servlets name to initialize Default value: &quot;&quot;</li>
<li><b>generateCDNFiles</b> The flag indicating if we should generate the CDN files or not Default value: true <div class="source"><pre>        &lt;plugin&gt;
                &lt;groupId&gt;net.jawr&lt;/groupId&gt;
                &lt;artifactId&gt;maven-jawr-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.0&lt;/version&gt;
                &lt;executions&gt;
                  &lt;execution&gt;
                    &lt;!-- Use this phase so that we could deal with the war folder just before the war package --&gt;
                    &lt;phase&gt;prepare-package&lt;/phase&gt;
                    &lt;goals&gt;
                      &lt;goal&gt;bundle&lt;/goal&gt;
                    &lt;/goals&gt;
                  &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;generateCDNFiles&gt;true&lt;/generateCDNFiles&gt;
                &lt;/configuration&gt;
          &lt;/plugin&gt;</pre>
</div>
<p>You could launch the bundling process directly using the maven command:</p>
<div class="source"><pre>        mvn jawr:bundle</pre>
</div>
</li>
</ul>
</div>
<div class="section"><h3>Classpath issue</h3>
<p>As you know, the bundle processor fakes the server startup. In the current implementation, the bundle processor will add the WEB-INF/lib directory in the classpath. But you could face some issue, if you are using some jar files, which are define in the application server itself.</p>
<p>To resolve this issue, you can use the classpath property in the plugin definition like below:</p>
<div class="source"><pre>        &lt;plugin&gt;
                &lt;groupId&gt;net.jawr&lt;/groupId&gt;
                &lt;artifactId&gt;maven-jawr-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.0&lt;/version&gt;
                &lt;executions&gt;
                  &lt;execution&gt;
                    &lt;!-- Use this phase so that we could deal with the war folder just before the war package --&gt;
                    &lt;phase&gt;prepare-package&lt;/phase&gt;
                    &lt;goals&gt;
                      &lt;goal&gt;bundle&lt;/goal&gt;
                    &lt;/goals&gt;
                  &lt;/execution&gt;
                &lt;/executions&gt;
                
                &lt;!-- 
                Add jars as the dependencies of the plugin, so it will be accessible in the classpath 
                during the Jawr maven plugin execution 
                --&gt;
                
                &lt;dependencies&gt;
                        &lt;dependency&gt;
                                &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
                                &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;
                                &lt;version&gt;1.0&lt;/version&gt;
                        &lt;/dependency&gt;
                &lt;/dependencies&gt;    
                &lt;configuration&gt;
                    &lt;generateCDNFiles&gt;true&lt;/generateCDNFiles&gt;
                &lt;/configuration&gt;
          &lt;/plugin&gt;</pre>
</div>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2009
    
          
  

  
  
  &nbsp;| Last Published: 08/02/2009
  &nbsp;| Version: 3.0
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
