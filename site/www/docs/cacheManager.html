<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Jawr - Cache Manager</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dt>About</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../servlets/ProjectHome">Home</a>
        </li>
              
    <li class="none">
              <a href="../introduction.html">Introduction</a>
        </li>
              
    <li class="none">
              <a href="../features.html">Features</a>
        </li>
              
    <li class="none">
              <a href="../changes.html">Change history</a>
        </li>
              
    <li class="none">
              <a href="../team.html">The team</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Documentation</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../docs/servlet.html">The Jawr servlet</a>
        </li>
              
    <li class="none">
              <a href="../docs/descriptor_syntax.html">Descriptor syntax</a>
        </li>
              
    <li class="none">
              <a href="../docs/custom_bundles.html">Bundle definition</a>
        </li>
              
    <li class="none">
              <a href="../docs/source_ordering.html">Source order in bundles</a>
        </li>
              
    <li class="none">
              <strong>Cache manager</strong>
        </li>
              
    <li class="none">
              <a href="../docs/global_preprocessors.html">Global preprocessors</a>
        </li>
              
    <li class="none">
              <a href="../docs/postprocessors.html">Postprocessors</a>
        </li>
              
    <li class="none">
              <a href="../docs/generators.html">Generators</a>
        </li>
              
    <li class="none">
              <a href="../docs/advanced_generators.html">Advanced generators</a>
        </li>
              
    <li class="none">
              <a href="../docs/license_files.html">Licenses in resources</a>
        </li>
              
    <li class="none">
              <a href="../docs/taglibs.html">JSP Tag library</a>
        </li>
              
    <li class="none">
              <a href="../docs/plain_html.html">Use in HTML pages</a>
        </li>
              
    <li class="none">
              <a href="../docs/modes.html">Debug and production modes</a>
        </li>
              
    <li class="none">
              <a href="../docs/messages_gen.html">i18n message generator</a>
        </li>
              
    <li class="none">
              <a href="../docs/variant_bundle.html">Variant bundles</a>
        </li>
              
    <li class="none">
              <a href="../docs/illegalBundleRequestHander.html">Jawr strict mode - Illegal bundle request handler</a>
        </li>
              
    <li class="none">
              <a href="../docs/jmx_support.html">JMX Support</a>
        </li>
              
    <li class="none">
              <a href="../docs/bundle_preprocessing.html">Bundle preprocessing</a>
        </li>
              
    <li class="none">
              <a href="../docs/jawr_maven_plugin.html">Jawr Maven plugin</a>
        </li>
              
    <li class="none">
              <a href="../docs/jawr_ant_task.html">Jawr Ant task</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Integration</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../integration/augmenter.html">Add Jawr to your framework</a>
        </li>
              
    <li class="none">
              <a href="../integration/spring.html">Spring MVC</a>
        </li>
              
    <li class="none">
              <a href="../integration/facelets.html">Facelets Tag library</a>
        </li>
              
    <li class="none">
              <a href="../integration/wicket.html">Wicket</a>
        </li>
              
    <li class="none">
              <a href="../integration/grails.html">Grails plugin</a>
        </li>
              
    <li class="none">
              <a href="../integration/dwr.html">DWR</a>
        </li>
              
    <li class="none">
              <a href="../integration/validator.html">Commons Validator - Struts</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Tutorials</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../tutorials/quickstart.html">Quick start</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/howToUseJawrToServeImage.html">How to use Jawr to serve image resources</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/howToUseJawrCssSkin.html">How to use Jawr to generate CSS skin</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/jawrSpriteImage.html">How to generate Image sprites with Jawr</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/howToUseJawrToGenerateBase64Image.html">How to generate base64 images in CSS with Jawr</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/faq_howto.html">FAQ-Howto</a>
        </li>
              
    <li class="none">
              <a href="../tutorials/libraries.html">Using popular libraries</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>API and sources</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../nonav/apidocs/index.html">JavaDocs</a>
        </li>
              
    <li class="none">
              <a href="../nonav/xref/index.html">Source XREF</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project tools</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../servlets/ProjectHome">Project home</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectMemberList">Membership</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectNewsList">Announcements</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectForumView">Discussion forums</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectDocumentList">Documents & files</a>
        </li>
              
    <li class="none">
              <a href="../source/browse/jawr/">Subversion</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectIssues">Issue tracker</a>
        </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>Introduction<a name="Introduction"></a></h2>
<p>To increase performance, Jawr uses a cache manager to cache the used resource.</p>
<p>By default, Jawr uses an in-mermory cache manager, but Jawr allows the user to define their own cache manager.</p>
<div class="section">
<h3>CacheManager<a name="CacheManager"></a></h3>
<p>A new interface <b>net.jawr.web.cache.JawrCacheManager</b> has been created to allow the user to define their own cache manager.</p><img src="../images/cacheManager/cacheManager.jpg" alt="Jawr cache manager class diagram" />
<ul>
<li>JawrCacheManager : This interface defines the methods contract for Jawr cache manager.</li>
<li>BasicCacheManager : This class defines the default in-memory cache manager.</li>
<li>EhCacheManager : This class defines the EhCache manager.</li></ul></div>
<div class="section">
<h3>Cache manager setting<a name="Cache_manager_setting"></a></h3>
<p>To set the custom cache manager which you want to use, you should use the following jawr configration property.</p>
<table border="1" class="bodyTable">
<tr class="a">
<td align="left"><b>Property name</b></td>
<td align="left"><b>Type</b></td>
<td align="left"><b>Purpose</b></td>
<td align="left"><b>Default value</b></td></tr>
<tr class="b">
<td align="left">jawr.cache.manager</td>
<td align="left">String</td>
<td align="left">The class name of the cache manager.</td>
<td align="left">net.jawr.web.cache.BasicCacheManager</td></tr></table></div>
<div class="section">
<h3>EhCache manager setting<a name="EhCache_manager_setting"></a></h3>
<p>To set up the EhCache manager, you must set the value of the *jawr.cache.manager* to net.jawr.web.cache.EhCacheManager.<br />To configure the EhCache manager, you can use the following jawr properties :</p>
<table border="1" class="bodyTable">
<tr class="a">
<td align="left"><b>Property name</b></td>
<td align="left"><b>Type</b></td>
<td align="left"><b>Purpose</b></td>
<td align="left"><b>Default value</b></td></tr>
<tr class="b">
<td align="left">jawr.ehcache.config.path</td>
<td align="left">String</td>
<td align="left">The path to the ehcache configuration file, which will be retrieve from classpath.</td>
<td align="left">ehcache.xml</td></tr>
<tr class="a">
<td align="left">jawr.ehcache.cache.name</td>
<td align="left">String</td>
<td align="left">The name of the cache.</td>
<td align="left">none</td></tr></table>
<p>Here is a example of jawr property file, to unable EhCache manager :</p>
<div class="source">
<pre>
...
jawr.cache.manager=net.jawr.web.cache.EhCacheManager
jawr.ehcache.config.path=ehcache.xml
jawr.ehcache.cache.name=sampleCache1
...
</pre></div>
<p>You will find below a example of EhCache configuration. Please note that this is just an example, you will have to configure EhCache depending on your need :</p>
<div class="source">
<pre>
&lt;ehcache&gt;
        &lt;diskStore path=&quot;java.io.tmpdir&quot; /&gt;

        &lt;defaultCache maxEntriesLocalHeap=&quot;10000&quot; eternal=&quot;false&quot;
                timeToIdleSeconds=&quot;120&quot; timeToLiveSeconds=&quot;120&quot; maxEntriesLocalDisk=&quot;10000000&quot;
                diskExpiryThreadIntervalSeconds=&quot;120&quot; memoryStoreEvictionPolicy=&quot;LRU&quot;&gt;
     
                &lt;persistence strategy=&quot;localTempSwap&quot; /&gt;
        &lt;/defaultCache&gt;

        &lt;!--
    Sample caches. Following are some example caches. Remove these before use.
    --&gt;
    &lt;!--
    Sample cache named sampleCache1
    This cache contains a maximum in memory of 10000 elements, and will expire
    an element if it is idle for more than 5 minutes and lives for more than
    10 minutes.

    If there are more than 10000 elements it will overflow to the
    disk cache, which in this configuration will go to wherever java.io.tmp is
    defined on your system. On a standard Linux system this will be /tmp&quot;
    --&gt;
        &lt;cache name=&quot;sampleCache1&quot; maxEntriesLocalHeap=&quot;10000&quot;
                maxEntriesLocalDisk=&quot;1000&quot; eternal=&quot;false&quot; diskSpoolBufferSizeMB=&quot;20&quot;
                timeToIdleSeconds=&quot;300&quot; timeToLiveSeconds=&quot;600&quot;
                memoryStoreEvictionPolicy=&quot;LFU&quot; transactionalMode=&quot;off&quot;&gt;
                &lt;persistence strategy=&quot;localTempSwap&quot; /&gt;
        &lt;/cache&gt;

&lt;/ehcache&gt;


</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2014
    
          
  

  
  
  &nbsp;| Last Published: 2014-01-01
  &nbsp;| Version: 3.5
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
