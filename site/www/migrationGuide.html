<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Jawr - Jawr Migration Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dt>About</dt>
        <dd><ul>
              
    <li class="none">
              <a href="servlets/ProjectHome">Home</a>
        </li>
              
    <li class="none">
              <a href="introduction.html">Introduction</a>
        </li>
              
    <li class="none">
              <a href="features.html">Features</a>
        </li>
              
    <li class="none">
              <a href="changes.html">Change history</a>
        </li>
              
    <li class="none">
              <a href="team.html">The team</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Documentation</dt>
        <dd><ul>
              
    <li class="none">
              <a href="docs/servlet.html">The Jawr servlet</a>
        </li>
              
    <li class="none">
              <a href="docs/descriptor_syntax.html">Descriptor syntax</a>
        </li>
              
    <li class="none">
              <a href="docs/custom_bundles.html">Bundle definition</a>
        </li>
              
    <li class="none">
              <a href="docs/source_ordering.html">Source order in bundles</a>
        </li>
              
    <li class="none">
              <a href="docs/cacheManager.html">Cache manager</a>
        </li>
              
    <li class="none">
              <a href="docs/global_preprocessors.html">Global preprocessors</a>
        </li>
              
    <li class="none">
              <a href="docs/postprocessors.html">Postprocessors</a>
        </li>
              
    <li class="none">
              <a href="docs/generators.html">Generators</a>
        </li>
              
    <li class="none">
              <a href="docs/advanced_generators.html">Advanced generators</a>
        </li>
              
    <li class="none">
              <a href="docs/license_files.html">Licenses in resources</a>
        </li>
              
    <li class="none">
              <a href="docs/taglibs.html">JSP Tag library</a>
        </li>
              
    <li class="none">
              <a href="docs/plain_html.html">Use in HTML pages</a>
        </li>
              
    <li class="none">
              <a href="docs/modes.html">Debug and production modes</a>
        </li>
              
    <li class="none">
              <a href="docs/messages_gen.html">i18n message generator</a>
        </li>
              
    <li class="none">
              <a href="docs/variant_bundle.html">Variant bundles</a>
        </li>
              
    <li class="none">
              <a href="docs/illegalBundleRequestHander.html">Jawr strict mode - Illegal bundle request handler</a>
        </li>
              
    <li class="none">
              <a href="docs/jmx_support.html">JMX Support</a>
        </li>
              
    <li class="none">
              <a href="docs/bundle_preprocessing.html">Bundle preprocessing</a>
        </li>
              
    <li class="none">
              <a href="docs/jawr_maven_plugin.html">Jawr Maven plugin</a>
        </li>
              
    <li class="none">
              <a href="docs/jawr_ant_task.html">Jawr Ant task</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Integration</dt>
        <dd><ul>
              
    <li class="none">
              <a href="integration/augmenter.html">Add Jawr to your framework</a>
        </li>
              
    <li class="none">
              <a href="integration/spring.html">Spring MVC</a>
        </li>
              
    <li class="none">
              <a href="integration/facelets.html">Facelets Tag library</a>
        </li>
              
    <li class="none">
              <a href="integration/wicket.html">Wicket</a>
        </li>
              
    <li class="none">
              <a href="integration/grails.html">Grails plugin</a>
        </li>
              
    <li class="none">
              <a href="integration/dwr.html">DWR</a>
        </li>
              
    <li class="none">
              <a href="integration/validator.html">Commons Validator - Struts</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Tutorials</dt>
        <dd><ul>
              
    <li class="none">
              <a href="tutorials/quickstart.html">Quick start</a>
        </li>
              
    <li class="none">
              <a href="tutorials/howToUseJawrToServeImage.html">How to use Jawr to serve image resources</a>
        </li>
              
    <li class="none">
              <a href="tutorials/howToUseJawrCssSkin.html">How to use Jawr to generate CSS skin</a>
        </li>
              
    <li class="none">
              <a href="tutorials/jawrSpriteImage.html">How to generate Image sprites with Jawr</a>
        </li>
              
    <li class="none">
              <a href="tutorials/howToUseJawrToGenerateBase64Image.html">How to generate base64 images in CSS with Jawr</a>
        </li>
              
    <li class="none">
              <a href="tutorials/faq_howto.html">FAQ-Howto</a>
        </li>
              
    <li class="none">
              <a href="tutorials/libraries.html">Using popular libraries</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>API and sources</dt>
        <dd><ul>
              
    <li class="none">
              <a href="nonav/apidocs/index.html">JavaDocs</a>
        </li>
              
    <li class="none">
              <a href="nonav/xref/index.html">Source XREF</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project tools</dt>
        <dd><ul>
              
    <li class="none">
              <a href="servlets/ProjectHome">Project home</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectMemberList">Membership</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectNewsList">Announcements</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectForumView">Discussion forums</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectDocumentList">Documents & files</a>
        </li>
              
    <li class="none">
              <a href="source/browse/jawr/">Subversion</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectIssues">Issue tracker</a>
        </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>Introduction<a name="Introduction"></a></h2></div>
<div class="section">
<h2>The version 3.3.x and 3.5 are not backward compatible. You will find below a migration guide to migrate from 3.3.x to 3.5.<a name="The_version_3.3.x_and_3.5_are_not_backward_compatible._You_will_find_below_a_migration_guide_to_migrate_from_3.3.x_to_3.5."></a></h2>
<div class="section">
<h3>Migration Guide from 3.3.x to 3.5<a name="Migration_Guide_from_3.3.x_to_3.5"></a></h3></div></div>
<div class="section">
<h2>It is important to note that the 3.5 version requires at least the use of java 6 and servlet API 2.5, while the 3.3.x required at least the use of java 1.4 and servlet API 2.3<a name="It_is_important_to_note_that_the_3.5_version_requires_at_least_the_use_of_java_6_and_servlet_API_2.5_while_the_3.3.x_required_at_least_the_use_of_java_1.4_and_servlet_API_2.3"></a></h2>
<ul>
<li>Jawr Project modules
<p>For better maintanability, the jawr project has been divided in multiple modules.</p>
<p>Since, the version 3.5, Jawr has the following modules :</p>
<p><i>jawr-core</i> : The jawr core module <i>jawr-wicket-extension</i> : The jawr wicket integration module <i>jawr-spring-2.0.x-extension</i> : The jawr spring 2.0.x integration module <i>jawr-dwr2.x-extension</i> : The jawr DWR 2.x integration module <i>jawr-dwr3.x-extension</i> : The jawr DWR 3.x integration module <i>jawr-grails-extension</i> : The jawr grails integration module</p>
<p><i>jawr-core</i> : The jawr core module</p>
<p>Prior to the 3.5 version, the user used the jawr.jar (maven reference net.jawr:jawr-3.3.jar). Now the pom reference has changed. To used the new version, you need to replace the old jawr dependency by the following one :</p>
<div class="source">
<pre>                        
                        &lt;dependency&gt;
                                &lt;groupId&gt;net.jawr&lt;/groupId&gt;
                                &lt;artifactId&gt;jawr-core&lt;/artifactId&gt;
                                &lt;version&gt;3.5&lt;/version&gt;
                        &lt;/dependency&gt;
                        
</pre></div>
<p>Now to use the extensions, you'll need to add them in your dependencies (See below for more detail) </p>
<p><i>jawr-wicket-extensions</i> : The jawr wicket integration module</p>
<p>This module allows the integration of Jawr with Wicket. Please check the <a href="./integration/wicket.html">wicket integration documentation</a> for more detail. The wicket version supported is 6.x versions. Here is the dependency to add to your pom to add this module.</p>
<div class="source">
<pre>                        
                        &lt;dependency&gt;
                                &lt;groupId&gt;net.jawr.extensions&lt;/groupId&gt;
                                &lt;artifactId&gt;jawr-wicket-extension&lt;/artifactId&gt;
                                &lt;version&gt;3.5&lt;/version&gt;
                        &lt;/dependency&gt;
                        
</pre></div>
<p><i>jawr-spring-2.0.x-extension</i> : The jawr spring 2.0.x integration module</p>
<p>This module allows the integration of jawr with spring 2.0.x. Please check the <a href="./integration/spring.html">spring integration documentation</a> for more detail. Unfortunately for the time being, there is no support for spring 2.5.x and spring 3.x. This will probably be done in a future release. If someone wants to help, he is welcome. Here is the dependency to add to your pom to add this module.</p>
<div class="source">
<pre>                        
                        &lt;dependency&gt;
                                &lt;groupId&gt;net.jawr.extensions&lt;/groupId&gt;
                                &lt;artifactId&gt;jawr-spring-2.0.x-extension&lt;/artifactId&gt;
                                &lt;version&gt;3.5&lt;/version&gt;
                        &lt;/dependency&gt;
                        
</pre></div>
<p><i>jawr-dwr-2.x-extension</i> : The jawr dwr 2.x integration module</p>
<p>This module allows the integration of jawr with dwr 2.x. Please check the <a href="./integration/dwr.html">dwr integration documentation</a> for more detail. Unfortunately for the time being, there is no support for dwr 3.x. This will probably be done in a future release. If someone wants to help, he is welcome. Here is the dependency to add to your pom to add this module :</p>
<div class="source">
<pre>                        
                        &lt;dependency&gt;
                                &lt;groupId&gt;net.jawr.extensions&lt;/groupId&gt;
                                &lt;artifactId&gt;jawr-dwr-2.x-extension&lt;/artifactId&gt;
                                &lt;version&gt;3.5&lt;/version&gt;
                        &lt;/dependency&gt;
                        
</pre></div>
<p><i>jawr-grails-extension</i> : The jawr grails integration module</p>
<p>This module allows the integration of jawr with grails. Please check the <a href="./integration/grails.html">grails integration documentation</a> for more detail. Here is the dependency to add to your pom to add this module :</p>
<div class="source">
<pre>                        
                        &lt;dependency&gt;
                                &lt;groupId&gt;net.jawr.extensions&lt;/groupId&gt;
                                &lt;artifactId&gt;jawr-grails-extension&lt;/artifactId&gt;
                                &lt;version&gt;3.5&lt;/version&gt;
                        &lt;/dependency&gt;
                        
</pre></div></li>
<li>Generators
<p>Since the version 3.5, Jawr allows the users to define their custom GeneratorPathResolver. This means that the users can now define generators, wich will be triggered by prefix path (like built-in 'jar:' or 'message:' prefixes) or with for example a specific path suffix (like '*.less' resources).</p>
<p>In the version 3.3.x, the generator should implement the method &quot;getMappingPrefix&quot;. This method has been replaced by &quot;ResourceGeneratorResolver getResolver()&quot; method. Jawr defines built-in ResourceGeneratorResolvers :</p>
<ul>
<li>net.jawr.web.resource.bundle.generator.resolver.PrefixedPathResolver : For prefix path resolver * net.jawr.web.resource.bundle.generator.resolver.SuffixedPathResolver : For suffix path resolver</li></ul>
<p>To replace the following your custom generator, you need to replace</p>
<div class="source">
<pre>                                                public class SampleJsGenerator extends AbstractJavascriptGenerator {

                                                        /* (non-Javadoc)
                                                         * @see net.jawr.web.resource.bundle.generator.ResourceGenerator#getResolver()
                                                         */
                                                        public String getMappingPrefix() {
                                                                return &quot;foo&quot;;
                                                        }

                                                    ...
                                                }
</pre></div>
<p>With the following :</p>
<div class="source">
<pre>                                                public class SampleJsGenerator extends AbstractJavascriptGenerator {

                                                        /** The resolver */
                                                        private ResourceGeneratorResolver resolver;


                                                        public SampleJsGenerator(){
                                                        
                                                                resolver = new PrefixedPathResolver(&quot;foo&quot;);
                                                        }
                                                        
                                                        /* (non-Javadoc)
                                                         * @see net.jawr.web.resource.bundle.generator.ResourceGenerator#getResolver()
                                                         */
                                                        public ResourceGeneratorResolver getResolver() {
                                                                return resolver;
                                                        }

                                                    ...
                                                }
</pre></div></li></ul></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2014
    
          
  

  
  
  &nbsp;| Last Published: 2014-01-01
  &nbsp;| Version: 3.5
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
